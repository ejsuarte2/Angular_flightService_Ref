<div class="row">
  <div class="col-md-5 col-md-offset-4">
    <div class="panel panel-primary">
      <div class="panel-heading">View the Flight</div>

      <div class="panel-body">

        <form [formGroup]="viewbookingForm" (ngSubmit)="view()" class="form">
          <div class="form-group">
            <label for="bookingId">Booking ID</label>
            <input type="number" class="form-control" formControlName="bookingId">
            <span class="error-message" *ngIf="!viewbookingForm.controls.bookingId.valid && viewbookingForm.controls.bookingId.dirty">Enter the 4 digit BookingId</span>
          </div>
          <div class="form-group">
            <button class="btn btn-primary" type="button" (click)="viewDetails()" [disabled]="!viewbookingForm.valid">View Details</button>
            <button class="btn btn-primary" type="button" (click)="clearSearch()">Clear Search</button>
          </div>
        </form>

        <table *ngIf="singleFlight" class="table table-bordered">
          <tr>
            <th>Passenger Name</th>
            <th>Booking Id</th>
            <th>No of Tickets</th>
            <th>Ammount</th>
            <th>Delete</th>
          </tr>
          <tr>
            <td>{{singleFlight.passengerName}}</td>
            <td>{{singleFlight.bookingId}}</td>
            <td>{{singleFlight.noOfTickets}}</td>
            <td>{{singleFlight.totalAmount}}</td>
            <td><button type="button" class="btn btn-danger" (click)="delete(singleFlight.bookingId)">Delete</button></td>
          </tr>
        </table>
        
        <div *ngIf="flightNotFoundErr!=null">
          <span class="error">{{flightNotFoundErr}}</span>
        </div>

        <table *ngIf="!singleFlight && !flightNotFoundErr" class="table table-bordered">
          <tr>
            <th>Passenger Name</th>
            <th>Booking Id</th>
            <th>No of Tickets</th>
            <th>Ammount</th>
            <th>Delete</th>
          </tr>

          <tr *ngFor="let flight of flightDetails">
            <td>{{flight.passengerName}}</td>
            <td>{{flight.bookingId}}</td>
            <td>{{flight.noOfTickets}}</td>
            <td>{{flight.totalAmount}}</td>
            <td><button type="button" class="btn btn-danger" (click)="delete(flight.bookingId)">Delete</button></td>
          </tr>

        </table>

        <div *ngIf="errorMessage !=null">
          <span class="error">{{errorMessage}}</span>
        </div>
        <div>
          <span class="success">{{successMessage}}</span>
        </div>

      </div>
    </div>
  </div>
</div>